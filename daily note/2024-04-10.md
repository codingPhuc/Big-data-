


# Recommendations 
khi số lượng người dùng đủ nhiều thì sẽ có nhiều người xài  
snapchat  
làm sao xây dựng dược 1 hệ thống khuyến nghị 

# Type of recommendations 

sẽ chia làm hai loại cá nhân hóa và phi hóa nhân hóa 
khuyến nghị phi cá nhân hóa là theo cộng đồng theo số đồng  

 non hóa nhân hóa vd : nhiều người thay vì một người  "tra trên mạng top 10 " 
hóa nhân hóa : theo từng người dùng cụ thể vd: "sở thích mua trên amazon "


# Formal Model  
bước đầu là mô hình hóa bài toán  

X là khách hàng 
S là tập sản phẩm nói chung 
làm sao gợi ý được sản phẩm cho khách hàng  : 
- gợi ý thứ mà họ chưa xem 
- chúng ta phải tìm sản phẩm người dùng chưa xem chưa coi chưa mua và xem họ có thíc

```
Utility function u: X × S à R § R = set of ratings § R is a totally ordered set § e.g., 1-5 stars, real number in [0,1]
```
- trong toán học  tìm một tập u : XxS -> R 
- cho cái hàm tên u với parameter  (x,s) -> rating  
- R này có thể là một số thực hay là só sao như 1-5 
chúng ta sẽ học xây dựng thuật toán như thế nào 


# Utility matrix 
Alice xem phime avatar thich quá 
bob xem loTR 


# key problem 
có ba vấn đề cần phải giải quyết 
1. thu thập rating như thế nào ( phải có rating khởi đầu ) 
- thu hập các rating 
2. ngoại xi các ma trận cần thiếu  (ngoại xi là tính ra giá trị của 1 đối tượng suy ra đối tượng khác) tui dùng tb của 3 ông để đoán 1 ông khác (nội suy dùng thông tin mình ngoại suy dùng  tt ng khác) 
3. phương pháp đánh giá ngoại suy 


# Gathering Rating (1)
Explicit (cần thì xin (tường minh)) : 

Implicit không tường minh(theo dỏi thành vi của người dùng ) : 


# Etrapolating Utilities 
ngoại suy  dự đoán các giá trị còn thiếu 
rất nhiều người không thể rating các sản phẩm 
Cold start : 
- người dùng không có thông tin và không có nội dung 
3 cách cho recommender system  
1. cộng khô 
2. lọc cộng
3.   còn lại không có học bữa nay 

# Conten based recomender system (khuyen nghị dựa trên nội dung)
chuyển sản phẩm thành vector người dùng thành vector vector gần thì thich không can27 thì không thích 
làm sao  chuyển sản phẩm thành vector 

# Item  Profile 
Term frequency * Inverse Doc Frequency 

# Sidenote : TF-IDF 
trong N các văn bản mỗi văn bản ký hiệu là docj 

ni là số văn bản chưa term i 
![[]]

# Pro content based approach 
không sử dụng database của user khác  tránh vấn đề cold start  
có thể  gợi ý cho nhưng người dùng với sở thích riêng biệt 
dễ minh giải 
# Cons : Content based approach 
khó chọn dặt chưng phù hợp 
không gợi ý qua user profile thừa thuộc tính thì ok thiếu thì k 
overspecialization riêng biệt hóa thái hóa  
sản phẩm không nằm dc bên ngoài 




# Collaborative filtering  
![[TFIDF.jpg]]
$f_{ij}$ = frequency of term (feature) i in doc (item) j   

$$TF_{ij} =  \frac{f_ij}{max_{k}f_{kj}}$$ $f_{ij}$ is the number of term in a document 
$max_kf_{kj}$ is the term that have the highest number in that document  


$$IDF_j  =  log(\frac{N}{n_i}) = -\log(\frac{n_i}{N})$$   

N total number of doc 
$n_i$ is the time the term appear in the doc
$$TF-IDF \space  score  :  Wij =  TF_{ij} *  IDF_i$$


# User USer collaborative Filtering 
cho người dùng x tim ra N người  dùng giống với x và có rating cho sản phẩm y  . Tính ra rating của x cho y dựa trên rating của N người đã chọn 

# Finding "Simlar User" 





# Recommendations

When there are enough users, many people will use Snapchat. The question is how to build a recommendation system.

## Types of Recommendations

Recommendations can be divided into two types: personalized and non-personalized.

- **Non-personalized recommendations** are community-based, meaning they are the same for all users. For example, searching for “top 10” on the internet.
- **Personalized recommendations** are specific to each user. For example, based on individual shopping preferences on Amazon.

## Formal Model

The first step is to model the problem.

- X represents the users.
- S represents the set of all products.
- The goal is to recommend products that users have not yet seen.
- We need to find products that users have not seen or bought and see if they like them.

The utility function `u: X × S -> R` is used, where R is the set of ratings. R is a totally ordered set, e.g., 1-5 stars, a real number in [0,1].

## Utility Matrix

For example, Alice watches the movie Avatar and likes it, while Bob watches Lord of The Rings (LoTR).
![[Pasted image 20240414121526.png]]
## Key Problems

There are three problems that need to be solved:

1. How to collect ratings (initial ratings are needed).
2. How to extrapolate the missing values in the matrix.
3. How to evaluate the extrapolation.

## Gathering Ratings

Ratings can be gathered in two ways:

- **Explicit**: Ask users directly for their ratings.
- **Implicit**: Monitor user behavior to infer their preferences.

## Extrapolating Utilities

Extrapolation is used to predict missing values. Many people cannot rate all products. The “cold start” problem occurs when a user has no information and no content. There are three methods for recommender systems: raw, collaborative filtering, and others.
Three approaches to recommender systems
§ 1) Content-based
§ 2) Collaborative filtering 
§ 3) Latent factor based
## Content-Based Recommender System

This involves converting products into vectors and users into vectors. If the vectors are close, then the user likes the product. If not, the user does not like the product. The question is how to convert products into vectors.
![[Pasted image 20240414125104.png]]
## Item Profile

Term frequency * Inverse Document Frequency (TF-IDF) is used.

![[TFIDF.jpg]]
$f_{ij}$ = frequency of term (feature) i in doc (item) j   

$$TF_{ij} =  \frac{f_ij}{max_{k}f_{kj}}$$ $f_{ij}$ is the number of term in a document 
$max_kf_{kj}$ is the term that have the highest number in that document  


$$IDF_j  =  log(\frac{N}{n_i}) = -\log(\frac{n_i}{N})$$   

N total number of doc 
$n_i$ is the time the term appear in the doc
$$TF-IDF \space  score  :  Wij =  TF_{ij} *  IDF_i$$



## Pros and Cons of Content-Based Approach

**Pros**:

- Does not use the database of other users, avoiding the cold start problem.
- Can recommend for users with unique preferences.
- Easy to explain.

**Cons**:

- Difficult to choose suitable features.
- Cannot recommend through user profile. If there are redundant attributes, it’s okay. If not, it’s not okay.
- Overspecialization: Products cannot be outside the box.

$$sim(x, y) = \frac{\sum_{s \in S_{xy}} (r_{xs} - \bar{r}_x)(r_{ys} - \bar{r}_y)}{\sqrt{\sum_{s \in S_{xy}} (r_{xs} - \bar{r}_x)^2} \sqrt{\sum_{s \in S_{xy}} (r_{ys} - \bar{r}_y)^2}}$$
